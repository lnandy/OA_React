{"version":3,"file":"static/js/components-example-index.a22dc6a9.chunk.js","mappings":"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","sources":["components/example/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { auth, db, createUserWithEmailAndPassword, signInWithEmailAndPassword } from '@/api/firebase/firebase';\r\nimport { doc, getDoc, setDoc, deleteDoc, DocumentData,addDoc,collection } from 'firebase/firestore';\r\n\r\nconst App: React.FC = () =>  {\r\n  const [userInfo, setUserInfo] = useState<DocumentData | null>(null);\r\n  const [var0, setVar0] = useState('');\r\n  const [var1, setVar1] = useState('');\r\n  const [var2, setVar2] = useState('');\r\n  const [var3, setVar3] = useState('');\r\n  const [var4, setVar4] = useState('');\r\n  const [var5, setVar5] = useState('');\r\n  const [var6, setVar6] = useState('');\r\n  const [userId, setUserId] = useState<string | null>(\"NIjaBQgoALjZZtZLnyjI\");\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // 创建用户\r\n  // const handleSignUp = async () => {\r\n  //   try {\r\n  //     const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n  //     const user = userCredential.user;\r\n  //     setUserId(user.uid);\r\n  //     await setDoc(doc(db, 'userinfo', user.uid), {\r\n  //       email: user.email,\r\n  //       createdAt: new Date()\r\n  //     });\r\n  //     console.log('User created:', user);\r\n  //     setError(null); // 清除错误信息\r\n  //   } catch (error) {\r\n  //     console.error('Error creating user:', error);\r\n  //     setError((error as Error).message);\r\n  //   }\r\n  // };\r\n\r\n  // // 登录用户\r\n  // const handleSignIn = async () => {\r\n  //   try {\r\n  //     const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n  //     const user = userCredential.user;\r\n  //     setUserId(user.uid);\r\n  //     console.log('User signed in:', user);\r\n  //     setError(null); // 清除错误信息\r\n  //   } catch (error) {\r\n  //     console.error('Error signing in:', error);\r\n  //     setError((error as Error).message);\r\n  //   }\r\n  // };\r\n\r\n  // 查询用户信息\r\n  useEffect(() => {\r\n    const fetchUserInfo = async () => {\r\n      if (userId) {\r\n        const userRef = doc(db, 'userinfo', userId);\r\n        const userSnap = await getDoc(userRef);\r\n        if (userSnap.exists()) {\r\n          setUserInfo(userSnap.data());\r\n        } else {\r\n          console.log('No such document!');\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchUserInfo();\r\n  }, [userId]);\r\n\r\n  // 创建用户信息\r\n  const createUserInfo = async () => {\r\n    if (userId) {\r\n      const userRef = doc(db, 'routes','A');\r\n      await setDoc(userRef, {\r\n        \"path\": \"dashboard\",\r\n        \"element\": \"components/dashboard/\",\r\n        \"label\": \"Dashboard\",\r\n        \"role\": ['user','admin']\r\n      });\r\n      console.log('User info created');\r\n    }\r\n  };\r\n\r\n  const addNewDocument = async () => {\r\n    try {\r\n      const docRef = await addDoc(collection(db, 'role'), {\r\n        \"username\": \"user\",\r\n        \"role\": \"user\"\r\n      });\r\n      console.log('Document written with ID: ', docRef.id);\r\n    } catch (e) {\r\n      console.error('Error adding document: ', e);\r\n    }\r\n  };\r\n  // 更新用户信息\r\n  const updateUserInfo = async () => {\r\n    if (userId) {\r\n      const userRef = doc(db, 'userinfo', userId);\r\n      await setDoc(userRef, {\r\n        name: 'Updated Name',\r\n        email: 'updatedemail@example.com'\r\n      });\r\n      console.log('User info updated');\r\n    }\r\n  };\r\n\r\n  // 删除用户信息\r\n  const deleteUserInfo = async () => {\r\n    if (userId) {\r\n      const userRef = doc(db, 'userinfo', userId);\r\n      await deleteDoc(userRef);\r\n      console.log('User info deleted');\r\n      setUserInfo(null); // 清空本地状态\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Firebase Firestore CRUD Example</h1>\r\n      table name : <input type=\"email\" value={var0} onChange={(e) => setVar0(e.target.value)} placeholder=\"Email\" /><br />\r\n      <input type=\"email\" value={var1} onChange={(e) => setVar1(e.target.value)} placeholder=\"Email\" /><br />\r\n      <input type=\"email\" value={var2} onChange={(e) => setVar2(e.target.value)} placeholder=\"Email\" /><br />\r\n      <input type=\"email\" value={var3} onChange={(e) => setVar3(e.target.value)} placeholder=\"Email\" /><br />\r\n      <input type=\"email\" value={var4} onChange={(e) => setVar4(e.target.value)} placeholder=\"Email\" /><br />\r\n      <input type=\"email\" value={var5} onChange={(e) => setVar5(e.target.value)} placeholder=\"Email\" /><br />\r\n      <input type=\"email\" value={var6} onChange={(e) => setVar6(e.target.value)} placeholder=\"Email\" /><br />\r\n      {/* <button onClick={handleSignUp}>Sign Up</button>\r\n      <button onClick={handleSignIn}>Sign In</button> */}\r\n      <button onClick={createUserInfo}>Create User Info</button>\r\n      <button onClick={updateUserInfo}>Update User Info</button>\r\n      <button onClick={deleteUserInfo}>Delete User Info</button>\r\n      <button onClick={addNewDocument}>addNewDocument</button>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n      <pre>{JSON.stringify(userInfo, null, 2)}</pre>\r\n    </div>\r\n  );\r\n}\r\nexport default App;"],"names":["App","userInfo","setUserInfo","useState","var0","setVar0","var1","setVar1","var2","setVar2","var3","setVar3","var4","setVar4","var5","setVar5","var6","setVar6","userId","setUserId","error","setError","useEffect","async","userRef","doc","db","userSnap","getDoc","exists","data","console","log","fetchUserInfo","_jsxs","children","_jsx","type","value","onChange","e","target","placeholder","onClick","setDoc","name","email","deleteDoc","docRef","addDoc","collection","id","style","color","JSON","stringify"],"sourceRoot":""}